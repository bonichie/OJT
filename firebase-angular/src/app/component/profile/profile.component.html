<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
<!--for titles-->
<link href="https://fonts.googleapis.com/css2?family=Cabin:wght@500&display=swap" rel="stylesheet">
<!--for labels-->
<link href="https://fonts.googleapis.com/css2?family=Signika+Negative:wght@300&display=swap" rel="stylesheet">
<!--for answers-->

<div class="form-container mat-elevation-z5 text-center" *ngIf="user$ | async as user">
  <h1 class="form-title">User Profile</h1>
  <div class="profile-image">
    <img width="120" height="120" [src]="user.photoURL ?? 'assets/images/image-placeholder.jpg'">
    <button mat-mini-fab (click)="inputField.click()">
      <mat-icon>edit</mat-icon>
    </button>
  </div>

  <input #inputField type="file" hidden (change)="uploadImage($event, user)" />
  <form class="margin-top" [formGroup]="profileForm" #localForm="ngForm">
    <label type="text" p> <span class="label1">Employee ID:</span>&nbsp;&nbsp;
      <span class="ans">{{user.employeeId}}</span> </label>

    <div class="container">
      <div class="main-item">
        <div class="nameLbl">
          <label class="label2">
            Mobile No. <span class="hint">(09xxxxxxxxx)</span>*
          </label>
        </div>
        <div class="item">
          <input class="form-control" type="text" formControlName="mobileNo" placeholder="Mobile No." maxlength="11"
            minlength="11" [class.is-invalid]="localForm.submitted && profileForm.get('mobileNo')?.invalid"
            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" />
        </div>
      </div>
    </div>

    <div class="container" id="submitBtn">
      <button (click)="saveProfile()" type="submit" class="formbtn" mat-raised-button>
        Save
      </button>
    </div>
  </form>
</div>
