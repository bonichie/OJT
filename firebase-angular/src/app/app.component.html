<mat-toolbar color="">
  <div routerLink="/landing" style="cursor:pointer;"> 
    Faculty Management System
  </div>
  
     
    <ng-container *ngIf="user$ | async as user; else loginButton">
        <button mat-button [mat-menu-trigger-for]="userMenu">
            <img class="profile-image-toolbar" 
            width="30" height="30" [src]="user.photoURL ?? 'assets/images/image-placeholder.jpg'" >
            {{user.firstName}}
            <mat-icon>expand_more</mat-icon>
        </button>
        
        
        
    </ng-container>

<ng-template #loginButton>
    <button mat-button routerLink="/login">
        <mat-icon>login </mat-icon>  
        Login
     </button>
</ng-template>
    
</mat-toolbar>

<div class="content">
    <router-outlet></router-outlet>
</div>

<mat-menu #userMenu="matMenu">
    
    <button #editProfile id="editProfile" mat-menu-item (click)="profile()"> <mat-icon>edit</mat-icon>Edit Profile</button>
    <button mat-menu-item (click)="dashboard()"><mat-icon>dashboard</mat-icon>Dashboard</button>
    <button mat-menu-item (click)="openModal()"><mat-icon>logout</mat-icon>Signout</button>
</mat-menu>

<div class="modal fade" #sigoutModal id="sigoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h3  class="modal-title" id="exampleModalLabel"><strong>Signout</strong></h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
  
          </button>
        </div>
        <div class="modal-body">
          Are you sure you want to signout?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="logout()">Confirm</button>
        </div>
      </div>
    </div>
  </div>